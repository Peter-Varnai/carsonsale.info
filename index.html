<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>carsonsale.info</title>
    <!--    Google fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,900;1,300;1,400;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
          rel="stylesheet">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!-- jQuery styling -->
    <!--    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">-->

    <!--tooltip styling-->
    <link rel="stylesheet" href="css/d3-tip.css">

    <!-- Custom styling -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/data-description.css">
    <link rel="stylesheet" href="css/car-brand-colors.css">
    <link rel="stylesheet" href="css/pie-chart.css">
    <link rel="stylesheet" href="css/loading-anim.css">
</head>

<body>
<!--FILTER BUTTON-->
<button id="filterButton" type="button" class="style-free-button position-absolute ml-5">
    <svg width="55px" height="55px" viewBox="0 0 24 24" fill="white">
        <path class="filter_icon"
              d="M21 6H19M21 12H16M21 18H16M7 20V13.5612C7 13.3532 7 13.2492 6.97958 13.1497C6.96147 13.0615 6.93151 12.9761 6.89052 12.8958C6.84431 12.8054 6.77934 12.7242 6.64939 12.5617L3.35061 8.43826C3.22066 8.27583 3.15569 8.19461 3.10948 8.10417C3.06849 8.02393 3.03853 7.93852 3.02042 7.85026C3 7.75078 3 7.64677 3 7.43875V5.6C3 5.03995 3 4.75992 3.10899 4.54601C3.20487 4.35785 3.35785 4.20487 3.54601 4.10899C3.75992 4 4.03995 4 4.6 4H13.4C13.9601 4 14.2401 4 14.454 4.10899C14.6422 4.20487 14.7951 4.35785 14.891 4.54601C15 4.75992 15 5.03995 15 5.6V7.43875C15 7.64677 15 7.75078 14.9796 7.85026C14.9615 7.93852 14.9315 8.02393 14.8905 8.10417C14.8443 8.19461 14.7793 8.27583 14.6494 8.43826L11.3506 12.5617C11.2207 12.7242 11.1557 12.8054 11.1095 12.8958C11.0685 12.9761 11.0385 13.0615 11.0204 13.1497C11 13.2492 11 13.3532 11 13.5612V17L7 20Z"
              stroke="#000000" stroke-width="52" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
</button>
<!--ABOUT WINDOW BUTTON-->
<button id="aboutPopUpButton" type="button" class="style-free-button styledbutton">
    <svg fill="#000000" width="55px" height="55px" viewBox="0 0 24 24">
        <path xmlns="http://www.w3.org/2000/svg" transform="scale(0.1)"
              d="M92,96a4.0002,4.0002,0,0,1,4-4h64a4,4,0,0,1,0,8H96A4.0002,4.0002,0,0,1,92,96Zm4,36h64a4,4,0,0,0,0-8H96a4,4,0,0,0,0,8Zm32,24H96a4,4,0,0,0,0,8h32a4,4,0,0,0,0-8ZM220,48V156.68652a11.92221,11.92221,0,0,1-3.51514,8.48536l-51.313,51.31347A11.92174,11.92174,0,0,1,156.68652,220H48a12.01375,12.01375,0,0,1-12-12V48A12.01375,12.01375,0,0,1,48,36H208A12.01375,12.01375,0,0,1,220,48ZM48,212H156V159.99219a3.99988,3.99988,0,0,1,4-4h52V48a4.00458,4.00458,0,0,0-4-4H48a4.00458,4.00458,0,0,0-4,4V208A4.00458,4.00458,0,0,0,48,212Zm158.35107-48.00781H164v42.35058Z"/>
    </svg>
</button>

<div id="filterMenu" class="container position-absolute ml-5" style="top: 55px">
    <div class="filter-block" style="display: none">
        <label>Price:
            <span id="priceLabel1">0€</span> -
            <span id="priceLabel2">6 000 000€</span>
            <div class="menu-slider" id="price-slider"></div>
        </label>
    </div>
    <div class="filter-block" style="display: none">
        <label>Mileage:
            <span id="mileageLavel1">new</span>
            <span id="mileageLavel2">600 000 km</span>
            <div class="menu-slider" id="mileage-slider"></div>
        </label>
    </div>
    <div class="filter-block" style="display: none">
        <label> Filter by fuel type: <br>
            <select id="fuel-type" class="fuel-control">
                <option selected value="All">All</option>
                <option value="Diesel">Diesel</option>
                <option value="Gasoline">Benzin</option>
                <option value="Electric">Elektro</option>
                <option value="Electric/Gasoline">Hybrid</option>
                <!--<option selected value="sonstiges">Sonstiges</option>-->
            </select>
        </label>
    </div>
    <div class="filter-block">
        <label>Filter by car brand:
        </label>
        <div class="row">
            <div class="row de">
                <label><input type="checkbox" name="manufacturerName" value="audi" onclick="handleCheckbox(this)"> Audi</label>
                <label><input type="checkbox" name="manufacturerName" value="bmw" checked
                              onclick="handleCheckbox(this)"> BMW</label>
                <label><input type="checkbox" name="manufacturerName" value="mercedes_benz"
                              onclick="handleCheckbox(this)"> Mercedes-Benz</label>
                <label><input type="checkbox" name="manufacturerName" value="opel" onclick="handleCheckbox(this)"> Opel</label>
                <label><input type="checkbox" name="manufacturerName" value="vw" onclick="handleCheckbox(this)">
                    VW</label>
                <!--                <label><input type="checkbox" name="manufacturerName" value="alpina,maybach"-->
                <!--                              onclick="handleCheckbox(this)">Lesser known German car brands</label>-->
                <label><input type="checkbox" name="manufacturerName" value="porsche" onclick="handleCheckbox(this)">
                    Porsche</label>
                <label><input type="checkbox" name="manufacturerName" value="smart" onclick="handleCheckbox(this)">
                    Smart</label>
            </div>
            <div class="row it">
                <label><input type="checkbox" name="manufacturerName" value="fiat" onclick="handleCheckbox(this)"> Fiat</label>
                <label><input type="checkbox" name="manufacturerName" value="abarth" onclick="handleCheckbox(this)">
                    Abarth</label>
                <label><input type="checkbox" name="manufacturerName" value="alfa_romeo" onclick="handleCheckbox(this)">
                    Alfa Romeo</label>
                <!--                <label><input type="checkbox" name="manufacturerName" value="casalini,lancia,tazzari"-->
                <!--                              onclick="handleCheckbox(this)"> Lesser known Italian car brands</label>-->
                <label><input type="checkbox" name="manufacturerName" value="ferrari" onclick="handleCheckbox(this)">
                    Ferrari</label>
                <label><input type="checkbox" name="manufacturerName" value="lamborghini"
                              onclick="handleCheckbox(this)"> Lamborghini</label>
                <label><input type="checkbox" name="manufacturerName" value="maserati" onclick="handleCheckbox(this)">
                    Maserati</label>

            </div>
            <div class="row us">
                <label><input type="checkbox" name="manufacturerName" value="ford" onclick="handleCheckbox(this)"> Ford</label>
                <!--                <label><input type="checkbox" name="manufacturerName" value="buick,gmc,lincoln,mercury,pontiac,corvette"-->
                <!--                              onclick="handleCheckbox(this)"> Lesser known US car brands</label>-->
                <label><input type="checkbox" name="manufacturerName" value="cadillac" onclick="handleCheckbox(this)">
                    Cadillac</label>
                <label><input type="checkbox" name="manufacturerName" value="chevrolet" onclick="handleCheckbox(this)">
                    Chevrolet</label>
                <label><input type="checkbox" name="manufacturerName" value="chrysler" onclick="handleCheckbox(this)">
                    Chrysler</label>
                <label><input type="checkbox" name="manufacturerName" value="dodge" onclick="handleCheckbox(this)">
                    Dodge</label>
                <label><input type="checkbox" name="manufacturerName" value="hummer" onclick="handleCheckbox(this)">
                    Hummer</label>
                <label><input type="checkbox" name="manufacturerName" value="jeep" onclick="handleCheckbox(this)"> Jeep</label>
                <label><input type="checkbox" name="manufacturerName" value="tesla" onclick="handleCheckbox(this)">
                    Tesla</label>
            </div>
            <div class="row kr">
                <label><input type="checkbox" name="manufacturerName" value="Hyundai" onclick="handleCheckbox(this)">
                    Hyundai</label>
                <label><input type="checkbox" name="manufacturerName" value="KIA" onclick="handleCheckbox(this)">
                    KIA</label>
                <label><input type="checkbox" name="manufacturerName" value="SsangYong" onclick="handleCheckbox(this)">
                    SsangYong</label>
            </div>
            <div class="row fr">
                <label><input type="checkbox" name="manufacturerName" value="Renault" onclick="handleCheckbox(this)">
                    Renault</label>
                <label><input type="checkbox" name="manufacturerName" value="Citroen" onclick="handleCheckbox(this)">
                    Citroën</label>
                <!--                <label><input type="checkbox" name="manufacturerName" value="Ligier,Talbot"-->
                <!--                              onclick="handleCheckbox(this)">-->
                <!--                    Lesser known-->
                <!--                    French car brands</label>-->
                <label><input type="checkbox" name="manufacturerName" value="Peugeot" onclick="handleCheckbox(this)">
                    Peugeot</label>
            </div>
            <div class="row jp">
                <label><input type="checkbox" name="manufacturerName" value="Mazda" onclick="handleCheckbox(this)">
                    Mazda</label>
                <label><input type="checkbox" name="manufacturerName" value="Toyota" onclick="handleCheckbox(this)">
                    Toyota</label>
                <!--                <label><input type="checkbox" name="manufacturerName" value="Daihatsu,Infiniti,Isuzu,Subaru"-->
                <!--                              onclick="handleCheckbox(this)"> Lesser known Japanees car brands</label>-->
                <label><input type="checkbox" name="manufacturerName" value="Honda" onclick="handleCheckbox(this)">
                    Honda</label>
                <label><input type="checkbox" name="manufacturerName" value="Lexus" onclick="handleCheckbox(this)">
                    Lexus</label>
                <label><input type="checkbox" name="manufacturerName" value="Mitsubishi" onclick="handleCheckbox(this)">
                    Mitsubishi</label>
                <label><input type="checkbox" name="manufacturerName" value="Nissan" onclick="handleCheckbox(this)">
                    Nissan</label>
                <label><input type="checkbox" name="manufacturerName" value="Suzuki" onclick="handleCheckbox(this)">
                    Suzuki</label>
            </div>
            <div class="row uk">
                <label><input type="checkbox" name="manufacturerName" value="Aston_Martin"
                              onclick="handleCheckbox(this)">
                    Aston
                    Martin</label>
                <label><input type="checkbox" name="manufacturerName" value="Austin" onclick="handleCheckbox(this)">
                    Austin</label>
                <label><input type="checkbox" name="manufacturerName" value="Bentley" onclick="handleCheckbox(this)">
                    Bentley</label>
                <!--                <label><input type="checkbox" name="manufacturerName" value="Ineos,Lotus,Morgan,Rover,Triumph"-->
                <!--                              onclick="handleCheckbox(this)"> Lesser known British car brands</label>-->
                <label><input type="checkbox" name="manufacturerName" value="Jaguar" onclick="handleCheckbox(this)">
                    Jaguar</label>
                <label><input type="checkbox" name="manufacturerName" value="Land_Rover" onclick="handleCheckbox(this)">
                    Land
                    Rover</label>
                <label><input type="checkbox" name="manufacturerName" value="MINI" onclick="handleCheckbox(this)"> MINI</label>
                <label><input type="checkbox" name="manufacturerName" value="Rolls_Royce"
                              onclick="handleCheckbox(this)">
                    Rolls-Royce</label>
            </div>
            <div class="row">
                <label><input type="checkbox" name="manufacturerName" value="Seat" onclick="handleCheckbox(this)"> Seat</label>
                <label><input type="checkbox" name="manufacturerName" value="Cupra" onclick="handleCheckbox(this)">
                    Cupra</label>
            </div>
            <div class="row cz">
                <label><input type="checkbox" name="manufacturerName" value="Skoda" onclick="handleCheckbox(this)">
                    Skoda</label>
            </div>
            <!--            <div class="row cn">-->
            <!--                <label><input type="checkbox" name="manufacturerName" value="Aiways,BYD,JAC,ZhiDou"-->
            <!--                              onclick="handleCheckbox(this)"> Chinees-->
            <!--                    car brands</label>-->
            <!--            </div>-->
            <div class="row se">
                <label><input type="checkbox" name="manufacturerName" value="volvo" onclick="handleCheckbox(this)">
                    Volvo</label>
                <label><input type="checkbox" name="manufacturerName" value="saab" onclick="handleCheckbox(this)"> Saab</label>
                <label><input type="checkbox" name="manufacturerName" value="polestar" onclick="handleCheckbox(this)">
                    Polestar</label>
            </div>
            <div class="row various">
                <!--                <label><input type="checkbox" name="manufacturerName" value="Lada,Mahindra,KTM,Puch"-->
                <!--                              onclick="handleCheckbox(this)"> Various smaller car types</label>-->
            </div>
        </div>
        <!--        <button type="button" onclick="uncheckAllCheckboxes()">Uncheck All Checkboxes</button>-->
    </div>
</div>

<div id="load-wrapp" class="load-wrapp">
    <p class="lading-title">carsonsale.info</p>
    <div class="load">
        <div class="spinner">
            <div class="bubble-1">
                <svg width="20" height="20" viewBox="0 0 100 100">
                    <path class="random-fill" d="M50 2.5 L95 25 L95 75 L50 97.5 L5 75 L5 25 Z"></path>
                </svg>
            </div>
            <div class="bubble-2">
                <svg width="20" height="20" viewBox="0 0 100 100">
                    <path class="random-fill" d="M50 2.5 L95 25 L95 75 L50 97.5 L5 75 L5 25 Z"></path>
                </svg>
            </div>
            <div class="bubble-3">
                <svg width="20" height="20" viewBox="0 0 100 100">
                    <path class="random-fill" d="M50 2.5 L95 25 L95 75 L50 97.5 L5 75 L5 25 Z"></path>
                </svg>
            </div>
            <div class="bubble-4">
                <svg width="20" height="20" viewBox="0 0 100 100">
                    <path class="random-fill" d="M50 2.5 L95 25 L95 75 L50 97.5 L5 75 L5 25 Z"></path>
                </svg>
            </div>
        </div>
    </div>
</div>

<div id="aboutPopUp" class="about-container" style="display: none">
    <div class="about-pop-up">
        <button id="aboutPopUpX" type="button" class="style-free-button">
            <svg width="24px" height="24px" viewBox="0 0 32 32">
                <path transform="translate(-204.000000, -1035.000000)" fill="#000000"
                      d="M224.95,1046.05 C224.559,1045.66 223.926,1045.66 223.536,1046.05 L220,1049.59 L216.464,1046.05 C216.074,1045.66 215.441,1045.66 215.05,1046.05 C214.66,1046.44 214.66,1047.07 215.05,1047.46 L218.586,1051 L215.05,1054.54 C214.66,1054.93 214.66,1055.56 215.05,1055.95 C215.441,1056.34 216.074,1056.34 216.464,1055.95 L220,1052.41 L223.536,1055.95 C223.926,1056.34 224.559,1056.34 224.95,1055.95 C225.34,1055.56 225.34,1054.93 224.95,1054.54 L221.414,1051 L224.95,1047.46 C225.34,1047.07 225.34,1046.44 224.95,1046.05 L224.95,1046.05 Z M234,1063 C234,1064.1 233.104,1065 232,1065 L208,1065 C206.896,1065 206,1064.1 206,1063 L206,1039 C206,1037.9 206.896,1037 208,1037 L232,1037 C233.104,1037 234,1037.9 234,1039 L234,1063 L234,1063 Z M232,1035 L208,1035 C205.791,1035 204,1036.79 204,1039 L204,1063 C204,1065.21 205.791,1067 208,1067 L232,1067 C234.209,1067 236,1065.21 236,1063 L236,1039 C236,1036.79 234.209,1035 232,1035 L232,1035 Z"
                      id="cross-square">
                </path>
            </svg>
        </button>
        <div class="about-pop-up2">
            <div>
                <h1>Exploring European Used Car Market Data</h1>

                <p>As a data analyst, I embarked on a fascinating project to explore and analyze the European used car
                    market. This project involved web scraping data from two prominent websites, willhaben.at and
                    autoscoute24.com, dedicated to selling used cars. The goal was to gain insights into the popularity
                    and characteristics of various car brands across Europe. The project encompassed a variety of data
                    collection, preprocessing, and visualization tasks.</p>

                <h2>Data Collection</h2>

                <p>My journey began in June, where I conducted an extensive web scraping operation to gather information
                    from these websites. The data presented several challenges, including inconsistent and often
                    inaccurate information provided by users. I targeted the extraction of critical data points,
                    including manufacturer, model, mileage (in kilometers), engine power (in horsepower), manufacturing
                    date, fuel type (such as gasoline, diesel, electric, hybrid, etc.), gears type (manual/automatic),
                    price (in euros), seller location (comprising the country code, town, and postal code), and seller
                    names.</p>

                <h2>Data Preprocessing</h2>

                <p>The collected data required thorough cleaning and preprocessing. To tackle this, I utilized the
                    powerful Pandas library. Key assumptions were made to fill in missing values:</p>

                <ul>
                    <li>Cars of the same manufacturer and model were assumed to have the same fuel type.</li>
                    <li>For engine power, cars of the same manufacturer and model were aligned to the mean value for the
                        same car type, within the range of the standard deviation of engine power for that specific car
                        type.
                    </li>
                    <li>Uniformity in gear type was assumed for cars of the same manufacturer and model.</li>
                </ul>

                <p>Several other actions were taken to optimize the data:</p>

                <ul>
                    <li>Advertisements with missing manufacturer or location values were removed.</li>
                    <li>For Italian city names, postal codes were separated from the city names.</li>
                    <li>Dutch city names were processed to separate regional abbreviations from the city names.</li>
                    <li>Non-breaking spaces were addressed to eliminate various types of typing errors.</li>
                </ul>

                <h2>Data Enrichment and Mapping</h2>

                <p>As the project evolved, the primary focus shifted towards creating a density map that visualized the
                    distribution of different car brands across Europe. To achieve this, the city names and their postal
                    codes needed to be mapped to latitude and longitude coordinates. I employed the open-source geo-py
                    API, which proved to be a reliable resource. To maximize efficiency, I developed a function to keep
                    track of previously paired town names and lat-long values, significantly reducing processing
                    time.</p>

                <h2>Backend Setup and API</h2>

                <p>To provide a seamless user experience and circumvent the need to download the entire CSV file
                    containing all scraped data when visiting the site, I set up a backend using Python's FastAPI. This
                    backend offers a URL that answers calls containing selected car brands from the website, allowing
                    users to access specific data efficiently.</p>

                <h2>Key Skills and Tools</h2>

                <p>This project allowed me to hone various skills, such as web scraping using Playwright and Selenium,
                    data preprocessing with Pandas, database management with sql, and crafting requests with
                    tools like Insomnia. The ability to develop solutions for data cleaning, enrichment, and
                    visualization was at the core of this project, demonstrating my proficiency in data analysis and
                    problem-solving.</p>

                <h2>Conclusion</h2>

                <p>Exploring and analyzing the European used car market data was a rewarding endeavor. The project
                    illuminated the challenges of dealing with real-world data and demonstrated the importance of data
                    preprocessing to derive meaningful insights. The density map generated from this data provides a
                    unique perspective on the popularity of car brands in Europe. The skills and techniques developed
                    during this project are invaluable for a data analyst, and the insights gained can be leveraged to
                    make data-driven decisions in the automotive industry.</p>

            </div>
        </div>
    </div>
</div>

<div id="map-chart-area"></div>
<div id="chart-area"></div>
<div id="pie-chart-area"></div>
<div id="data-description"></div>
</body>

<!--External JS libraries-->
<script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
<!--<script src="https://unpkg.com/topojson-client@3"></script>-->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
<!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"-->
<!--        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"-->
<!--        crossorigin="anonymous"></script>-->
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
        integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
<script src="https://d3js.org/d3-hexbin.v0.2.min.js"></script>
<script src="https://unpkg.com/d3-v6-tip@1.0.6/build/d3-v6-tip.js"></script>
<script src="js/topo-json.js"></script>

<!--Custom JS -->
<script src="js/data-descr-about.js"></script>
<script src="js/data_filtering.js"></script>
<script src="js/map_main.js"></script>
<script src="js/hex-pattern.js"></script>
<script src="js/pie_main.js"></script>
<script src="js/site-logic.js"></script>
</html>

